(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{395:function(t,a,s){"use strict";s.r(a);var e=s(9),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"获取、设置日期和延时"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取、设置日期和延时"}},[t._v("#")]),t._v(" 获取、设置日期和延时")]),t._v(" "),s("p",[t._v("在类 Unix 系统中，日期被存储成一个整数，其大小为自"),s("strong",[t._v("世界标准时间")]),t._v("（UTC）1970 年 1 月 1 日 0 时 0 分 0 秒起所流失的秒数。这种计时方式称为"),s("strong",[t._v("纪元时")]),t._v("或"),s("strong",[t._v("Unix 时间")]),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"_1-读取日期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-读取日期"}},[t._v("#")]),t._v(" 1. 读取日期")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("date")]),t._v("\nMon Mar "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":06:36 CST "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2019")]),t._v("\n")])])]),s("h2",{attrs:{id:"_2-打印纪元时"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-打印纪元时"}},[t._v("#")]),t._v(" 2. 打印纪元时")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("date")]),t._v(" +%s\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1552284421")]),t._v("\n")])])]),s("p",[t._v("将指定日期转换成纪元时：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("date")]),t._v(" --date "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Thu Feb 28 16:58:10 CST 2019"')]),t._v(" +%s\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#--date用于提供日期串作为输入（也可以是 -d）")]),t._v("\n")])])]),s("p",[t._v("上面的命令在 OS X 系统中执行报错，只能使用下面这中格式：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("date")]),t._v(" -j -f "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%Y-%m-%d %H:%M:%S"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2015-09-28 10:20:32"')]),t._v(" +%s\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1443406832")]),t._v("\n")])])]),s("h2",{attrs:{id:"_3-格式化输出"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-格式化输出"}},[t._v("#")]),t._v(" 3. 格式化输出")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("date")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"+%d %B %Y"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" March "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2019")]),t._v("\n")])])]),s("h2",{attrs:{id:"_4-设置日期和时间"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-设置日期和时间"}},[t._v("#")]),t._v(" 4. 设置日期和时间")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("date")]),t._v(" -s "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Thu Feb 28 16:16:52 CST 2019"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#需要管理员权限")]),t._v("\n")])])]),s("h2",{attrs:{id:"_5-测试脚本执行时间"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-测试脚本执行时间"}},[t._v("#")]),t._v(" 5. 测试脚本执行时间")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/sh")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("start")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("date")]),t._v(" +%s"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 需要执行的脚本……")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("end")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("date")]),t._v(" +%s"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("difference")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$((")]),t._v(" end "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" start"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("))")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" Time taken to execute commands is "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$difference")]),t._v(" seconds.\n")])])]),s("h2",{attrs:{id:"_6-在脚本中生成延时"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-在脚本中生成延时"}},[t._v("#")]),t._v(" 6. 在脚本中生成延时")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/sh")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" -n Count: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ntput sc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#存储光标位置")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("count")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$count")]),t._v(" -lt "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("let")]),t._v(" count++"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#延时1秒")]),t._v("\n    tput rc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#恢复光标位置")]),t._v("\n    tput ed"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#清除从当前光标位置到行尾之间的所有内容")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" -n "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$count")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("\n")])])]),s("h2",{attrs:{id:"格式字符标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#格式字符标"}},[t._v("#")]),t._v(" 格式字符标")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("日期内容")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("格式")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("星期")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("%a")]),t._v(" （例如： Sat）"),s("br"),t._v(" "),s("code",[t._v("%A")]),t._v(" （例如： Saturday）"),s("br"),t._v(" "),s("code",[t._v("%w")]),t._v(" （例如：3）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("月")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("%b")]),t._v(" （例如：Nov）"),s("br"),s("code",[t._v("%B")]),t._v(" （例如：November）"),s("br"),s("code",[t._v("%m")]),t._v(" （例如：03）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("日")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("%d")]),t._v(" （例如：31）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("固定格式日期（mm/dd/yy）")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("%D")]),t._v(" （例如：10/18/10）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("年")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("%y")]),t._v(" （例如：10）"),s("br"),s("code",[t._v("%Y")]),t._v(" （例如：2010）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("小时")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("%I")]),t._v("或"),s("code",[t._v("%H")]),t._v(" （例如：08）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("分钟")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("%M")]),t._v(" （例如：33）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("秒")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("%S")]),t._v(" （例如：10）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("纳秒")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("%N")]),t._v(" （例如：254354）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("Unix 纪元时（以秒为单位）")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("%s")]),t._v(" （例如：1551342521）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("时区")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("%Z")]),t._v(" （例如：CST）"),s("br"),s("code",[t._v("%z")]),t._v(" （例如：+0800）")])])])])])}),[],!1,null,null,null);a.default=n.exports}}]);